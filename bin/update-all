#! /bin/bash
if [ -z "$ACMACSD_ROOT" ]; then
    echo ACMACSD_ROOT not set >&2
    exit 1
fi

failed()
{
    echo "FAILED" >&2
    exit 1
}

trap failed ERR

if [ -x $ACMACSD_ROOT/bin/update-acmacs-base ]; then
    $ACMACSD_ROOT/bin/update-acmacs-base
else
    $(dirname $0)/update-acmacs-base
fi

for P in 3rd-party locationdb acmacs-chart hidb seqdb acmacs-tree-maker signature-page ssm-report; do
    $ACMACSD_ROOT/bin/update-$P
done
